<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:view>
    <h:head>
        <title>Log in with your account</title>

        <h:outputStylesheet name="font-awesome/css/bootstrap.css?v=${1.058}"/>
        <h:outputStylesheet name="font-awesome/css/font-awesome.min.css?v=${1.031}"/>
        <h:outputScript src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"/>
        <h:outputScript src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"/>
    </h:head>
    <h:body>
        <f:facet name="last">
            <h:outputStylesheet name="css/login.css" rel="stylesheet"/>
        </f:facet>
        <div class="container">

            <form id="formLogin" class="form-signin" action="#{request.contextPath}/app/checkuser" method='POST'>
                <h2 class="form-heading">Log in</h2>

                <div class="form-group ${error != null ? 'has-error' : ''}">
                    <span>${message}</span>
                    <h:inputText id="username" value="#{user.username}" type="text" class="form-control" placeholder="Username"
                           autofocus="true"/>
                    <h:inputText id="password" value="#{user.password}" type="password" class="form-control" placeholder="Password"/>
                    <span>${error}</span>
                    <h:inputText type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>

                    <button class="btn btn-lg btn-primary btn-block" type="submit">Log In</button>
                    <h4 class="text-center"><a href="${contextPath}/registration">Create an account</a></h4>
                </div>

                <c:if test="${not empty param.login_failed}">
                    <div class="error">
                        Login failed
                    </div>
                </c:if>

            </form>

        </div>
        <h:outputScript library="js" name="jquery-3.2.1.min.js" target="body"/>
        <h:outputScript library="js" name="bootstrap.min.js" target="body"/>
    </h:body>
</f:view>
</html>
